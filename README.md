<h2>CS701 Project - Yiqi Lu</h2>

This project is to create an online travel planner which allows users create and update their travel plans.

<h3>Architecture</h3>
This application is based on three servers:
1. Web server, built with Angular
It is for Web content. It can send HTTP requests to the application server.

2. Application server, built with NodeJS (Express framework)
It is for access control to database. Also, Yelp API is also on this server since the node module of Yelp API is used.

3. Database server, MongoDB
It stores user accounts and travel plans


<h3>Data Structure</h3>
<li>TravelPlanList: Array<TravelPlan>
<li>TravelPlan
    - destination: string
    - travelDayList: Array<TravelDay>
<li>TravelDay
    - date: date
    - transportList: Array<Transport>
    - attractionList: Array<Attraction>
    - hotel: Hotel
    - otherList: Array<Other>
<li>Transport
    - name : string
    - detail : string
<li>Attraction
    - name : string
    - location: string
<li>Hotel
    - name : string
    - location: string
<li>Other
    - name : string
    - detail : string
    - location: string


<h3>Installation</h3>
1. MongoDB
Download MongoDB. From a terminal window, navigate to the MongoDB installation location and run the command './bin/mongod' to start the MongoDB server.

2. Application server
From a terminal window, navigate to the folder 'CS701Project_Lu/Application_Server', install node modules, then run 'node server.js'. 

3. Web server
From a terminal window, navigate to the folder 'CS701Project_Lu/Web_server/CS701Project', install node modules.

<li>Open the file 'angular-cli.json' with the path of '/CS701Project_Lu/Web_Server/CS701Project/node_modules/@angular/cli/blueprints/ng/files/angular-cli.json'. 
<li>Find "scripts", manually add "../node_modules/jquery/dist/jquery.min.js" inside it. The following is how it should look like:
"scripts": ["../node_modules/jquery/dist/jquery.min.js"]
<strong>NOTE: This step is important to enable JQuery in the Angular application. It must be done manually after 'npm install'.</strong> 

Run 'ng serve'. 


<h3>Run the Application</h3>
Now start the application on 'localhost:4200' with the browser.

The application will check if the user ID is in the Session Storage. If not, it will redirect to the Login page.

In the Login page, the user can either login or sign up. The application will send an HTTP request with login information to authenticate user accounts in MongoDB, then store the user ID in the Session. If the user signs up, the application will get a response of new user ID generated by MongoDB.

After login or sign up, the user will get to the Profile page. This page will check if user's travel plans are in the Local Storage. If not, it will send a request to get plans from MongoDB, then store plan information locally. The user can view his/her plans or add a new plan. All plans are sorted by the date of the first travel day.

When viewing a plan, the user can click the edit button to get to the Edit page. This page is for adding, updating, and deleting detailed travel information. The user can also add a new travel day -- the default day will be next day after the last existing travel day. The search function powered by Yelp API is on the right. The user can search where to go and drag the search results into the travel plan. The application will determine the result should be Attraction, Hotel, or Other. Once the user click the save button, both the Local Storage and MongoDB will be updated. 

When the user click the Logout button, the local session and storage will be cleared. The user needs to login again to retrieve his/her travel plans.


<h3>Further Development</h3>
1. Add more functionalities - e.g. Google Map API
2. Mobile version built with Ionic
